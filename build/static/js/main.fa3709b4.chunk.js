(this["webpackJsonpyelp-elasticsearch-frontend"]=this["webpackJsonpyelp-elasticsearch-frontend"]||[]).push([[0],{104:function(e,a,t){},149:function(e,a,t){},150:function(e,a,t){"use strict";t.r(a);var n=t(12),i=t.n(n),r=t(76),o=t.n(r),s=(t(104),t(31)),l=t(53),c=t.n(l),d=t(59),u=t(47),h=t(60),g=t(77),b=t.n(g),S=t(4),v=function(e){var a=e.area,t=e.size,n=e.className,i=Object(u.usePromiseTracker)({area:a}).promiseInProgress;return Object(S.jsx)("div",{children:i&&Object(S.jsx)("div",{className:n,children:Object(S.jsx)(b.a,{type:"ThreeDots",color:"#82b9ff",height:t,width:t})})})},m=t.p+"static/media/search.d500fee3.svg",p=t.p+"static/media/yelp-logo.86b2b120.svg",M=t.p+"static/media/close.4c7dac3a.svg",w=t.p+"static/media/elasticsearch-logo.d0b4f1eb.png",y=t.p+"static/media/star.36390b91.svg",O=t.p+"static/media/half-star.a92f21ec.svg",j=t.p+"static/media/empty-star.64c4820a.svg",C=function(e){var a=e.stars;return Object(S.jsx)("div",{className:"stars-list",children:function(){for(var e=[],t=1;t<6;t++){var n=y;t>a&&(n=t-.5===a?O:j),e.push(Object(S.jsx)("img",{alt:"Star rating icon",className:"star-icon",src:n},t))}return e}()})},f=t.p+"static/media/down-arrow.6e4fb6f2.svg",k=t.p+"static/media/right-arrow.030bef3d.svg",L=t.p+"static/media/funny.02facbc0.svg",H=t.p+"static/media/thumb-up.c8632b66.svg",P=t.p+"static/media/cool.0b1f021c.svg",N=function(e){var a,t=e.review,i=Object(n.useState)(!1),r=Object(s.a)(i,2),o=r[0],l=r[1];return Object(S.jsxs)("div",{className:"review",children:[Object(S.jsxs)("div",{className:"review-stars-date-wrapper",children:[Object(S.jsx)(C,{stars:t.stars}),Object(S.jsx)("p",{children:(a=t.date,(a=new Date(a)).toLocaleDateString())})]}),Object(S.jsx)("p",{className:"review-text",children:t.text.length<=400||o?t.text:t.text.substring(0,400)}),t.text.length>400&&Object(S.jsx)("p",{className:"review-show-more",onClick:function(){return l(!o)},children:o?"Hide":"Show more"}),Object(S.jsxs)("div",{className:"review-emoji-wrapper",children:[t.useful>0&&Object(S.jsxs)("p",{children:[Object(S.jsx)("img",{alt:"Emoji thumb up",src:H}),t.useful]}),t.funny>0&&Object(S.jsxs)("p",{children:[Object(S.jsx)("img",{alt:"Emoji funny",src:L}),t.funny]}),t.cool>0&&Object(S.jsxs)("p",{children:[Object(S.jsx)("img",{alt:"Emoji cool",src:P}),t.cool]})]})]})},R=function(e){var a=e.reviews,t=e.isToggle,i=Object(n.useState)(0),r=Object(s.a)(i,2),o=r[0],l=r[1],c=function(){o+10>a.length?l(a.length):l(o+10)};return Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){t||l(10)}),[t]),Object(S.jsx)(h.Scrollbars,{autoHeight:!0,autoHeightMax:500,children:Object(S.jsxs)("div",{className:"reviews-list",children:[a.slice(0,o||9).map((function(e){return Object(S.jsx)(N,{review:e},e.review_id)})),Object(S.jsx)("p",{className:"show-more-reviews",onClick:c,children:"Show more reviews"})]})})},x=function(e){var a=e.business,t=e.onBusinessHover,i=Object(n.useState)(!1),r=Object(s.a)(i,2),o=r[0],l=r[1],h=Object(n.useState)([]),g=Object(s.a)(h,2),b=g[0],m=g[1],p=Object(n.useState)([]),M=Object(s.a)(p,2),w=M[0],y=M[1],O=Object(u.usePromiseTracker)({area:"reviews-area-".concat(a.business_id)}).promiseInProgress;Object(n.useEffect)((function(){o&&0===b.length&&!O&&j()}),[o]),Object(n.useEffect)((function(){y(a.categories.split(","))}),[]);var j=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.trackPromise)(fetch("http://localhost:5000/reviews/".concat(a.business_id)),"reviews-area-".concat(a.business_id));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,m(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"business-card",onMouseEnter:function(){return t(a)},children:[Object(S.jsx)("div",{className:"business-infos-wrapper",children:Object(S.jsxs)("div",{className:"business-main-infos",children:[Object(S.jsx)("h3",{children:a.name}),Object(S.jsxs)("div",{className:"business-ratings-wrapper",children:[Object(S.jsx)("p",{children:a.stars.toFixed(1)}),Object(S.jsx)(C,{stars:a.stars}),Object(S.jsxs)("p",{children:["(",a.review_count,")"]})]}),Object(S.jsx)("p",{className:"business-address",children:a.address}),Object(S.jsxs)("p",{className:"business-city-state",children:[a.city," - ",a.state]}),Object(S.jsx)("div",{className:"business-categories-list",children:w.map((function(e){return Object(S.jsx)("p",{className:"business-categorie",children:e},e)}))})]})}),Object(S.jsxs)("div",{className:"reviews-wrapper",children:[Object(S.jsxs)("p",{className:"reviews-label",onClick:function(){return l(!o)},children:["Reviews ",Object(S.jsx)("img",{className:"reviews-toggle-icon",alt:"Review toggle icon",src:o?f:k})]}),Object(S.jsx)(v,{className:"reviews-loading-wrapper",size:60,area:"reviews-area-".concat(a.business_id)}),o&&!O&&Object(S.jsx)(R,{reviews:b,isToggle:o})]})]})},E=["Richmond Hill","Deux-Montagnes Regional County Municipality","Monongahela","St. Joseph","Lindale","Chestermere","Parma","Cote Saint-Luc","Austinburg","University Hts ","Blawnox","Mcfarland","Sainte-Therese","Parma Hts.","Moon Twp","Greenock","ARSENAL","Garfield Hts","Phoenix Valley","Richmond Hil","Longueuil","New Glarus","Bellevue","Saint Leonard","GILBERT","Nellis Air Force Base","Shadyside","Northfield","\xcele-Perrot","moon","Elizabeth","pittsburgh","La Prairie","Murrysville","Verrado","Highland Heights","Leslieville","Mentor-on-the-Lake","Mount Holly","Crafton","West View","COPLEY","Cleveland Heights","Cave Creek Road","Chargrin Falls","Sunrise","Montral","Clark","cleveland warrensville bedford","Indian Land","Mesa","Scottsdale","Mc Donald","Windsor","Saint-Joseph-Du-Lac","Red Rock","Goodyear","Mayfield Heights","East Calgary","Norval","Phoeniix","Rosem\xe8re","Fitchburgh","Cuyahoga Falls","Paradise","Downtown","Sainte-Anne-des-Plaines","East Cleveland","Whiitby","Les Coteaux","Locust","McKeesport","Lake Park","Shaker Heights","TEMPE","Sturgeon","Middleton","Heidelberg","West Valley","Tarentum","Westport","Richmond Hts.","Whitney","Alberta","Cleveland","Lorain","Copley","S Concord","LAS VEGAS AP","TORONTO","mesa","Eastlake","Greenfield-Park","Brooklyn Heights","Las Vegas, NV","Westview","Woodbridge (Vaughan)","Pointe-Aux-Trembles","Newburgh Heights","North Ridgeville","Vaudreuil-Dorion","CHARLOTTE","Kahnawake","Sainte-Doroth\xe9e","Mt. Washington","Pahrump","Phoneix","Solon","Beauharnois","Terrebonne","Irwin","Oakwood village","Ballantyne","North Charlotte","Robinson Twp.","Millcreek","Chandler","Denver","South Charlotte","Bedford Heights","Cleveland Heigh","Dravosburg","Montreal-Ouest","Murrysville (Monroeville)","CLEVELAND AP","Farnham","Division No. 6","Huntersville","Sheffield Village","Bolton","Henderson Nevada","Canonsburg","Bradford West Gwillimbury","Glenwillow","Streetsboro","Tottenham","Monticello","Matthews","New Kensington","Turtle Creek","Avon","Somerton","Tolono","Saint-Hubert","Evergreen","N.Las Vegas","Fitchburg","Mathews","North Randall","Chambly","Saint-Sauveur-Des-Monts","Huntsburg","W Spring Valley","Mc Murray","Lavaltrie","Bedford Hts.","Morgan Hill","North strabane","Weddington","Gates Mills","Mt. Lebanon","Avalon","St-Jean Sur Richelieu","Waterloo","Phoenix","Boisbriand","Saint-Constant","Strongville","Brooklyn","Lyndhurst","Glendale","East York","cave creek","Mt Lebanon","Sainte-Ad\xe8le","NELLIS AFB","Rawdon","Glendale Az","Caledon East","Kent","Mayfield Hts","Presto","Sedona","Russellton","Ste-Rose","Mccandless Township","Saint-Lambert","Gormley","Las Vegas","Nellis AFB","Old Brooklyn","Wahiawa","Highland Hts","Pointe-aux-Trembles","Stanley","N Las Vegas","San Antonio","Urbana, Illinois","South Las Vegas","Cote-Saint-Luc","Moon Township","Antioch","Imperial","Fabreville","Neville Island","Library","Glen Williams","Saint-L\xe9onard","Laveen","Rillton","Farmington","Henderson","Bridgeville","East Mississauga","Henderston","Rural Ridge","Fort mill","Mentor On the Lake","Suncity","Saint-J\xe9r\xf4me","Ahwahtukee","Nottingham Township","Edgewood","Hopewell","R\u017dpentigny","Brampton","Moon Twp.","Pointe Claire","Durham Regional Municipality","Mirabel","Fairport Harbor","Pierrefonds","Montr\xe9al (Qu\xe9bec)","Maple Grove","Hemmingford","South Euclid","Hamilton","North York","Paw Creek","Joliet","Chertsey","Don Mills","McKnight","Charotte","Chomedey, Laval","Etna","ROCKY RIVER","East Gwillimbury","Mckees Rocks","Shaler","Broadlands","Fountain Hills","Warrensville Hts.","Pittsburgh ","S.Euclid","Ranlo","Sgs Industrial Park","Montreal-Quest","C\xf4te Saint-Luc","Peters Township","New River","L'\xcele-Bizard","Shady Side","Pennsylvania","Lake Mead","Columbia Sta","Rockyview County","Lemon Grove","Las Vegas, Nevada","Green Tree","Pickering Ajax Whitby","Monroe","Queen Creek","Highland Park","Oka","Monona","Lower Lawrenceville","Mentor On the","Olmsted","Houston","Shaler Township","lyndhurst","Salaberry-de-Valleyfield","Las Vegas ","Hampstead","Bloomfield","Sage Hill","Las  Vegas","Dollard-des Ormeaux","Sharon","The Promenade","toronto","Geauga","Decatur","Delson","Down","Squirrel Hill","Gelndale","Sainte-Catherine","Etobicoke","Mc Farland","Lakewood","Avon Lake","Mayfield","Tuscola","Allison Park","Bethel Park","Saint-Liboire","Champlain","Sainte-Anne-De-Bellevue","Saint-Sauveur-des-Monts","North  York","Pittsburg","Lawrenceville","Mint Hill","Medina Township","Fort Mill","St.Pittsburgh","Kleinburg","Central City","Reminderville","PHOENIX AP","Uptown","Brooklyn Hts.","Pgh Int Arprt","McMasterville","Saint-Pierre-de-V\xe9ronne-\xe0-Pike-River","Omaha","Toronto-West","Bratenahl","Middleburg","Cuddy","Troy Township","Charlotte","Markham","North Las Vegas","Balzac","Seven Hills","St-Leonard","Strip District","Saint Laurent","Beachwood ","Akron","Shorewood Hills","N E Las Vegas","Frisco","Toronto","Millvale","Laveen Village","Old Town Scottsdale","Wildwood","Rostraver","Mooresville","La Vegas","South Park Township","Summerlin South","Yorkville","Plum Boro","Northeast Calgary","Scottadale","Sainte-Marguerite-du-Lac-Masson","Rantoul","Brossard","Mentor on the Lake","Milford","Chagrin Falls","Reedsburg","Mayfield Hts.","Westlake","Berry","Sunrise Manor","Sainte-Rose","Stoughton","Lagrange","Varennes","PIttsburgh","Downsview","Franklin Park","Rio Verde","Cleveland heights","AZ","Median","Saint-Philippe","Fort  Mill","Middlefield","GLendale","Phoenix ","Eighty Four","Scarborough W","Bath","Ogden","Toronto-North York","Finleyville","Ville-Marie","Mercier","Stanfield","N Versailles","Chandler-Gilbert","\u200bGilbert","Grafton","West Mifflin","Arnold","Aurora","Baie-d'Urf\xe9","Mayfield Heights (Cleveland)","Bay Village","Hudson","Mentor","Warrensville Heights","York Regional Municipality","Scotesdale","Montreal-Est","Leetsdale","Glbert","Silver Lake","Oakridges","L'\xcele-des-S\u0153urs","Westmount","Brookline","Calgary","Promenade","Fort MILL","Broadview Hts","Warrensville","Saint-laurent","Toronto Division","Orange","McDonald","Saint-Charles-Borromee","Clarkson","Newbury","Sun City West","Penn Hills Township","Parma Heights","Nobleton","Bradfordwoods","C\xf4te-Saint-Luc","Montr\xe8al","Avondale","Rock Hill SC","Strongsville","McAdenville","Ange-Gardien","Piedmont","Youngtown","Montreal","Verdun","Vimont","ETOBICOKE","Rainbow Valley","West Elizabeth","Mayfield Village","Sainte-Genevi\xe8ve","Las Vegas,","Mahomet","Nellis Afb","Cheswick","Mc Kees Rocks","Lowesville","Woodmere","Pointe-Claire","Mont St-Hilaire","Coraopolis","Mt Holly","Sharpsburg","Harwick","St. Jean Sur Richelieu","Mississuaga","DeForest","Black Earth","Peninsula","Fisher","E Midland","Oakmont","Cleveland Hts.","Gifford","Pheonix AZ","Indian Land, South Carolina","Hazelwood","Montrose","Green Valley","Cave creek","Coteau-du-Lac","N W Las Vegas","Medina","Woodmere Village","Phoniex","Oakwood","Cecil","Agincourt","scottsdale","Savoy","St Leonard","Sainte-Marguerite-du-lac-Masson","Spring Hill City View","Pickering","Grand River","East Gwillimburry","Erie","Rocky River","Wilkens Township","Munroe Falls","Kingman","Sainte-Marguerite-Esterel","North Royalton","Leeds","Les C\xe8dres","Marvin","Mount Washington","Saxonburg","Pepper Pike","SEWICKLEY","HENDERSON","Tallmadge","Garfield Hts.","Hiram","Forest Hills","Clinton","Whtiby","Export","Inglewood","Lower Burrell","Lachenaie","East Liberty","las Vegas","N. Huntingdon","Lakewood, Oh","Kirtland","Lowell","St. L\xe9onard","Brookpark","Bellvue","Beaconsfield","Tremont","L'\xcele-Perrot","Northwest Calgary","Fort Mills","Ross Township","Schottsdale","Scottsdale, AZ","Southeast Calgary","Henryville","Mcdonald","Las Vegas East","Havelock","Regional Municipality of York","Las Vegas Nevada","Valley View","Saint-Esprit","CHANDLER","Independence","Fort McDowell","Mississaugua","South Amherst","Central Henderson","Charlemagne","Bapchule","N. Las Vegas","Black Rock City","Amherst","Belmont","Guadalupe","Brecksville","kirtland","Hendserson","Castle Shannon","peoria","Olmsted Twp","Pine","OAKVILLE","Garfield Heights","Richmond Heights","Munhall","pittsbuirgh","White Oak","Ravenna","Oakdale","N. Olmsted","University","calgary","Montr\xe9al-West","Mint  Hill","N.Olmsted","Mattews","Twinsburg","Bedford Hts","Olmsted Township","Brampton FKA Bramalea","Parma Hts","Saint-Jean-Sur-Richelieu","Pont-Viau","Willowdale","Queen creek","Regent Square","Chatauguay","Puyallup","Salem","Phoenix, AZ","Etobocoke","Jean","Bedford","Brunswick","Parma mid birth","Nevada","Est\xe9rel","las vegas","Fairlawn","Gilbert","St-Lazare","Yorkdale","Bond Head","Marshall","Madison West","C Las Vegas","Philo","Ville Saint-Laurent","Darlington","CALGARY","Creighton","Whitchurch-Stouffville","North Huntingdon","Ft. Mill","Macedonia","Indian Land,","Urbana","Russell Twp","phoenix","Thorncliffe Park","Saint Joseph","Wellington","Olmsted Falls","Maricopa","Boulder CIty","Northfield Center Township","Newbury Township","Streetsville","West Lake","Warrenville","Saint-Henri","King","Anthem","Bradford Woods","Kirlkland","Bridgeview","Saint-Sauveur","Auburn","Peters (Township Of)","Cave Creek","Saint-Hippolyte","Springdale","Mount Mourne","Midway","Thornhil","Ambridge","Las Vegas Nv","N.Ridgeville","Alburg","L'ile-Perrot","Mesa Az","North Olmsted","Lachute","Iberville","Blakeney","Higley","Deerfield","Dollard-Des Ormeaux","East McKeesport","N. Ridgeville","N Ridgeville","Wickliffe","Mansfield","Brentwood","Saint-Isidore-de-Laprairie","West Homestead","Midnapore","110 Las Vegas","West Montr\xe9al","Fox Chapel","Cottage Grove","Stow","Richfield","Harrison City","McKees Rocks","East Pittsburgh","Mississsauga","Phoenix Metro Area","La Salle","Saint-Hyacinthe","Port Credit","Phonenix","PITTSBURGH AP","laveen","Oakland","Oakwood Village","Rougemont","Clairton","CLEVELAND","McKeesRocks","Sainte-Th\xe9r\xe8se-de-Blainville","North Carolina","Painesville","Hartlepool","Litchfield park","Cuyahoga Fls","Vegas","Township of Concord","Holland Landing","NorthYork","Point-Claire","Saint-Basile-Le-Grand","Montreal-West","Thomasboro","Tempe ","Ormstown","Maumee","Penfield","Greenway","Larimer","Henderson (Green Valley)","Huntingdon","Rexdale","Vaudreuil","North Versailles","Queensville","Saint-Marc-sur-Richelieu","Scottdale","Dewey","Blue Mounds","Penn Hills","Scarobrough","West Toronto","Mazomanie","Lower burrell","Monroeville","Ahwatukee","SUN PRAIRIE","Kettleby","Dorval","Sheffield","Mayfield Hgts","McMurry","St-Laurent","Sainte-Anne-de-Bellevue","Waxhaw","Orange Village","markham","North Las Vegas ","Harmarville","Saint-Roch-de-l'Achigan","Peoria,","MOORESVILLE","Norton","Saint-Eustache","Stallings","Airdrie","Bois-des-Filion","Scarborough","Hinckley","Indian land","cave Creek","Columbia Station","L'ile-Bizard","Pittsburch","Scarbrough","Schomberg","University Ht","Middleburg Hts","Paoli","Elizabeth Township","Deforest","East Point","Brunswick Hills","Queen West","Las Vegass","Sidney","Ben Avon","Tempe","Crouse","Goodwood","Glassport","Robinson Township","PEORIA","St Joseph","Mesa Arizona","Morgan","Lodi","Novelty","Jefferson Hills","Frazer","Seattle","Walton Hills","Shaker Hts","Deux-Montagnes","henderson","Roxboro","Ajax","Cramerton","South Hills","STALLINGS","Chicago","Scottsdsale","Ashburn","Lancaster","Saint-Pie","Etobicoke,","Napierville","Apache Junction","Catawba Springs","Clover","Madison","Upper Saint Clair","Lasalle","Barberton","Plum","Morin-Heights","Sun CIty","Bainbridge","Fort Mcdowell","Concord Township","Sheboygan","Mes","NEWMARKET (OT)","Mayfield Heights.","Central","King City","Willowick","Mt. Holly","Godmanchester","Halton Hills","Otterburn Park","Emsworth","Oakvile","Dane","Pr\xe9vost","Outremont","Ahwatukee Foothills Village","Carefree","Port Vue","Richmond Height","LITCHFIELD PK","Banksville","Kirkland","Dollard-des-Ormeaux","Mascouche","Litchfield","West Las Vegas","North Olmsted,","Buckeye","PITTSBURGH","Allegheny","Sainte-Th\xe9r\xe8se","Pointe-Calumet","Cornelius","St-Bruno-de-Montarville","Newmarket","Mentor-On-The-Lake","Baie-d'Urfe","Ingram","Wilkins","Kannapolis","O'hara Township","MESA","Oberlin","Whitby","Mont\xe9al","glendale","Phoenix,","Sainte-Marthe","Centennial","Burton","Cross Plains","NEWMARKET","Painesville Township","Buena Vista","Sauk City","Chander","LaGrange","Redding","Arrowhead","Quartier des Spectacles","Wesley Chapel","Lake Wylie","Mooers","Henderson and Las vegas","Oakville","Moon TWP","Wilmerding","Centennial Hills","Stetson Valley","Chateauguay","Fairview Park","Glenshaw","Boulder City","Oregon","Weston","Metro Phoenix","Dublin","Kennedy Township","Lufkin","Blue Diamond","Rouses Point","Brooklin","City Center","canonsburg","Mentor On The Lake","Monreoville","McFarland","Saint-Lazare","Pittsburgh","Ch\xe2teauguay","Champaign","East Hawkesbury","Beeton","Etibicoke","St-Sauveur","Upper St. Clair","etobicoke","solon","Uxbridge","Duquesne","Sun Lakes","Coteau-Du-Lac","L'assomption","\xcele-des-Soeurs","Saint - Hyacinthe","Mont St-hilaire","Dormont","Oak Ridges","Oshawa","Avon lake","4321 W Flamingo Rd","Mesa, AZ","Saint-Basile-le-Grand","Broadview Heights","Los Angeles","Joliette","south Euclid","Mount Royal","McCandless","Concord Mills","Greenfield Park","Pineville","Hnederson","Mc Adenville","Huntington Beach","York","Snowflake","Pincourt","Montville","Rocky View","Saint-Charles-Borrom\xe9e","PHOENIX","Ingomar","Symons Valley","Swissvale","Markham, ON","Mckeesport","Rocky View County","Rocky river","Aspinwall","Saint-Jerome","El Mirage","Sewickley","Thornhill","Indianola","Westworld Scottsdale","Rigaud","Reno","Bel\u0153il","Communaut\xe9-Urbaine-de-Montr\xe9al","Chateau","Noyan","stoughton","East Mc Keesport","Homer","Greensburg","East Gwilimbury","Montr\xe9al-Ouest","Paradise Valley","Carnegie","Lake Las Vegas","Mantua","Fountain Hls","Maple Heights","Indian Trail","GLENDALE","Rosemere","Surprise","Mentor ohio","SW Calgary","Cuyohoga Falls","cleveland","Saint-Bruno","Rock Hill","Concord Twp","Caledon Village","Toronto-Etobicoke","Ste-Doroth\xe9e","Medicine Hat","Saint-Bernard-de-Lacolle","Willoughby","Bradford","St-Jean-sur-Richelieu","Grand Rapids","Missisauga","Mont-Saint-Hilaire","Trafford","Leaside","Whitehall","Summerlin","Northyork","Sainte-Madeleine","Wadsworth","Maple Hts.","Red Mountain","Fithian","Waunakee","Cleveland, OH","Tucson","Beloeil","Stouffville","surprise","Saint Hubert","Tampa","North york","CONCORD","Saint-Bruno-de-Montarville","Suprise","\u200bAvondale","Saint-Leonard","Old Scottsdale","Caledon","Richmond Hts","Moreland Hills","De Forest","Lacolle","Alburgh","Burlington","Springfield","East Mesa","Cooksville","Sun City","Middleburg Hts.","Lachine","Belle Vernon","University Heights","Citibank","Blainville","montreal","Pleasant Hill","Southside Flats","Las vegas","Mississauge","Cranberry Twp","Phx","Maple","Unionville","Sandy Ridge","Villa Grove","Arizona","Chesterland","NORTH YORK","Pleasant Hills","Tolleson","Waddell","Mount Horeb","oakville","Monterey Park","Mount Albert","Robinson","Woodbridge","Bainbridge Township","Val-Morin","Rockey View","Highland Hills","Vaughan","De l'Eglise","Enterprise","Bentleyville","N Solon","Dallas","N.Versailles","Boucherville","Boston Heights","Claremont","Montr\xe9al-Nord","Middleburg Heights","Candiac","W Henderson","Harmar Township","Venise-en-Qu\xe9bec","Saint-Jean-sur-Richelieu","Qu\xe9bec","Homestead","Ville Saint Laurent","Buckeye - Shaker","Valleyfield","Woodbrigde","Duvernay","Le Sud-Ouest","St-Jerome","Mcknight","CAVE CREEK","Mont-Saint-Gr\xe9goire","Valleywide","Ville Mont-Royal","Allentown","Braddock","Nationwide","Georgetown","Columbus","Valley City","San Francisco","Cleveland ","Concord","San Diego","Lynhurst","Phoenix AZ","SCOTTSDALE","Wilkinsburg","Beachwood","Spring Valley","Sagamore Hills","Charlotte ","Tega Cay","Mcmurray","Peninsul","Etobiicoke","Sainte- Adele","North Scottsdale","Mont-Royal","Pitsburgh","Peoria","Hendersonville","Malton","Cuyahoga Heights","Ansnorveldt","Wexford","LaSalle","South Heights","Repentigny","Herminie","South Park","Schaumburg","Sheffield Lake","North Olmstead","Rankin","McCandless Township","Bakerstown","Pheonix","Belleville","Litchfield Park","Centre Island","San Tan","Mount Lebanon","Lawrence","Laval, Pont Viau","Tornto","Notre-Dame-de-l'Ile-Perrot","Verona","Upper St Clair","Euclid","Richmonhill","North Braddock","Apache Trail","Mississauga","Moon","Elyria","Anjou","charlotte","Perry","East Credit","Harrisburg","QUEEN CREEK","L'Assomption","Saintt-Bruno-de-Montarville","Madison East","Ft.Mill","Sainte-th\xe9r\xe8se","Central City Village","Laval","Perry Twp","Pitcairn","Ontario","Garrettsville","Desert Ridge","Delacour","Midland","Saint-Laurent","North Strabane Township","Chardon","LAS VEGAS","San Tan Valley","Monoroeville","Willoughby Hills","Rocky View No. 44","Draper","River Drive Park","Northfield Center","Montreal-Nord","Dollard-Des-Ormeaux","Davidson","New York","St-Clet","W.Mifflin","Sunnyslope","Sainte-Genevieve","Greensboro","Gastonia","Rockyview","Brook Park","Crescent","Marieville","Auburn Twp","Warrensville Hts","North Toronto","Edmonton","Venetia","TORONTO - DANFORTH (OT)","Gibsonia","Zephyr","Saint-Joseph-du-Lac","New Eagle","Sun Prairie","North Huntington","Baldwin","North  Ridgeville","Boston","New Tecumseth","Sainte-Adele","Downtown Toronto","N. Randall","Sainte-Julie","Milton","TORONTO - FRONT ST (OT)","Salaberry-De-Valleyfield","Hampton Township","Sutersville","Montr\xe9al","Beltline","Whitaker","North Phoenix","Notre-Dame-De-L'ile-Perrot","Prescott","McMurray","Palgrave","Old Port of Montreal","Elrama","Berea","North Fayette"],T=function(e){var a=e.onBusinessHover,t=Object(n.useState)([]),i=Object(s.a)(t,2),r=i[0],o=i[1],l=Object(n.useState)(""),g=Object(s.a)(l,2),b=g[0],y=g[1],O=Object(n.useState)(""),j=Object(s.a)(O,2),C=j[0],f=j[1],k=Object(u.usePromiseTracker)({area:"businesses-fetch"}).promiseInProgress,L=Object(n.useRef)();Object(n.useEffect)((function(){H("restaurant")}),[]),Object(n.useEffect)((function(){H(b)}),[C]);var H=function(){var e=Object(d.a)(c.a.mark((function e(a){var t,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k||!a||""===a){e.next=10;break}return t="http://localhost:5000/search/".concat(a),C&&"City"!==C&&""!==C&&(t="http://localhost:5000/search/".concat(a,"?city=").concat(C)),e.next=5,Object(u.trackPromise)(fetch(t),"businesses-fetch");case 5:return n=e.sent,e.next=8,n.json();case 8:i=e.sent,o(i);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(S.jsxs)("section",{className:"businesses-section",children:[Object(S.jsxs)("h1",{children:["Yelp Elasticsearch Engine ",Object(S.jsx)("img",{className:"yelp-logo",alt:"Logo Yelp",src:p})]}),Object(S.jsxs)("div",{className:"search-area",children:[Object(S.jsxs)("div",{className:"search-input-wrapper",children:[Object(S.jsx)("input",{placeholder:"Search...",onChange:function(e){return y(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&H(b)}}),Object(S.jsx)("img",{className:"search-icon",alt:"Search icon",src:m,onClick:function(){return H(b)}})]}),Object(S.jsxs)("div",{className:"sort-wrapper",children:[Object(S.jsx)("p",{children:"City:"}),Object(S.jsxs)("select",{ref:L,name:"cities",className:"cities-selector",onChange:function(e){return f(e.target.value)},children:[Object(S.jsx)("option",{value:"",children:"City"}),E.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))]}),Object(S.jsx)("img",{className:"close-icon",alt:"Reset city sort icon",src:M,onClick:function(){f("City"),L.current.selectedIndex="0"}})]}),r&&!k&&Object(S.jsxs)("p",{className:"query-results-label",children:["Your query returned ",Object(S.jsx)("span",{children:r.length})," results"]})]}),Object(S.jsx)(v,{size:100,area:"businesses-fetch"}),Object(S.jsx)(h.Scrollbars,{autoHeight:!0,autoHeightMax:"100%",children:Object(S.jsx)("div",{className:"businesses-list",children:r.map((function(e){return Object(S.jsx)(x,{business:e,onBusinessHover:a},e.business_id)}))})}),Object(S.jsxs)("footer",{children:[Object(S.jsx)("p",{children:"Powered by Elasticsearch"}),Object(S.jsx)("img",{alt:"Logo Elasticsearch",src:w})]})]})},B=t.p+"static/media/marker.3bbe199b.png",A=(t(147),t(80)),V=t(82),W=t(84),D=t(58),G=t(64),F=t(83),I=t(81),K=t(57),J=t(78),z=t(8),Y=t(85),U=function(e){var a=e.businessHover,t=Object(n.useState)(),i=Object(s.a)(t,2),r=i[0],o=i[1],l=Object(n.useState)(),c=Object(s.a)(l,2),d=c[0],u=c[1],h=Object(n.useRef)();Object(n.useEffect)((function(){var e=new A.a({layers:[new W.a({source:new V.a})],target:h.current,view:new D.a({center:Object(z.n)([0,0],"EPSG:4326","EPSG:3857"),zoom:2})});o(e)}),[]),Object(n.useEffect)((function(){d&&r.removeLayer(d),a&&r&&g(a)}),[a]);var g=function(e){var a=new J.a({geometry:new G.a(Object(z.d)([e.longitude,e.latitude])),name:e.name}),t=new I.a({source:new F.a({features:[a]}),style:new K.b({image:new Y.a({src:B,scale:.08})})});u(t),r.addLayer(t),r.setView(new D.a({center:Object(z.n)([e.longitude,e.latitude],"EPSG:4326","EPSG:3857"),zoom:13}))};return Object(S.jsx)("section",{ref:h,id:"map"})},Q=t(79);t(149);var Z=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],i=a[1];return Object(S.jsxs)("div",{className:"main-wrapper",children:[Object(S.jsx)(T,{onBusinessHover:function(e){i(e)}}),!Q.isMobile&&Object(S.jsx)(U,{businessHover:t})]})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,152)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,r=a.getLCP,o=a.getTTFB;t(e),n(e),i(e),r(e),o(e)}))};t.p,t.p;o.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(Z,{})}),document.getElementById("root")),_()}},[[150,1,2]]]);
//# sourceMappingURL=main.fa3709b4.chunk.js.map